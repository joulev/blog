@use "sass:color";
@use "sass:map";
@import "../styles/variables";

@mixin manage-theme($name, $theme-map) {
  $background: map.get($theme-map, "background");
  $foreground: map.get($theme-map, "foreground");
  $primary: map.get($theme-map, "primary");
  $gray: map.get($theme-map, "gray");
  $box-shadow: 0 .5rem 1rem rgba($foreground, .15);
  $light: $background;
  $dark: $foreground;
  $text-muted: $gray;
  .topBtns#{$name} {
    cursor: pointer;
    padding: 7px;
    z-index: 300;
    transition: .15s ease-in-out;
    display: none;
    @media (max-width: 767.98px) {
      display: block;
    }
    > svg > line {
      stroke: $foreground;
      stroke-width: 2px;
      stroke-linecap: round;
    }
    &:hover {
      border-color: $gray;
    }
    &.downEnough#{$name} {
      border: 1px solid mix($gray, $background, 40%);
      border-radius: 5px;
      background: mix($gray, $background, 20%);
    }
    &.notDownEnough#{$name} {
      border: 1px solid $background;
      border-radius: 5px;
      background: $background;
    }
  }
  
  .toggle#{$name} {
    position: fixed;
    top: 15px;
    right: 15px;
  }
  .homeBtn#{$name} {
    position: fixed;
    top: 15px;
    right: 70px;
  }
  
  @media (max-width: 767.98px) {
    .leftPanel#{$name} {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 200;
      background: $background;
      box-shadow: none;
      overflow: hidden;
      height: 0;
    }
    .leftPanelEnter#{$name} {
      height: 0;
      box-shadow: none;
    }
    .leftPanelEnterActive#{$name} {
      height: 500px;
      box-shadow: $box-shadow;
      transition: .3s ease-in-out;
    }
    .leftPanelEnterDone#{$name} {
      height: 500px;
      box-shadow: $box-shadow;
    }
    .leftPanelExit#{$name} {
      height: 500px;
      box-shadow: $box-shadow;
    }
    .leftPanelExitActive#{$name} {
      height: 0;
      box-shadow: none;
      transition: .3s ease-in-out;
    }
  
    .toggleEnterActive#{$name}, .toggleEnterDone#{$name} {
      line:first-of-type {
        transform: translate(12px, 12px) rotate(45deg) translate(-12px, -6px);
        transition: .3s ease-in-out;
      }
      line:last-of-type {
        transform: translate(12px, 12px) rotate(-45deg) translate(-12px, -18px);
        transition: .3s ease-in-out;
      }
    }
    .toggleExit#{$name} {
      line:first-of-type {
        transform: translate(12px, 12px) rotate(45deg) translate(-12px, -6px);
      }
      line:last-of-type {
        transform: translate(12px, 12px) rotate(-45deg) translate(-12px, -18px);
      }
    }
    .toggleExitActive#{$name} {
      line:first-of-type {
        transform: translateY(0px);
        transition: .3s ease-in-out;
      }
      line:last-of-type {
        transform: translateY(0px);
        transition: .3s ease-in-out;
      }
    }
  }
}

@include manage-theme(Light, $light-theme);
@include manage-theme(Dark, $dark-theme);
