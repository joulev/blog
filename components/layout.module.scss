@use "sass:color";
@use "sass:map";
@import "../styles/variables";

.container {
  @media (min-width: 992px) {
    max-width: 1050px;
  }
}

.contentPanel {
  padding-top: 3.5rem;
  padding-bottom: 3.5rem;
}

.topBtns {
  cursor: pointer;
  padding: 7px;
  border-radius: $border-radius;
  z-index: 300;
  > svg > line {
    stroke-width: 2px;
    stroke-linecap: round;
  }
  &.toggle, &.homeBtn {
    display: none;
    @media (max-width: 767.98px) {
      display: block;
    }
  }
}
.toggle {
  position: fixed;
  top: 15px;
  right: 15px;
}
.homeBtn {
  position: fixed;
  top: 15px;
  right: 70px;
}
.toTop {
  position: fixed;
  bottom: 15px;
  right: 15px;
  &.notDownEnough {
    opacity: 0;
    cursor: initial;
  }
}

@media (max-width: 767.98px) {
  .leftPanel {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 200;
    box-shadow: none;
    overflow: hidden;
    height: 0;
  }

  .toggleEnterActive, .toggleEnterDone {
    line:first-of-type {
      transform: translate(12px, 12px) rotate(45deg) translate(-12px, -6px);
      transition: .3s ease-in-out;
    }
    line:last-of-type {
      transform: translate(12px, 12px) rotate(-45deg) translate(-12px, -18px);
      transition: .3s ease-in-out;
    }
  }
  .toggleExit {
    line:first-of-type {
      transform: translate(12px, 12px) rotate(45deg) translate(-12px, -6px);
    }
    line:last-of-type {
      transform: translate(12px, 12px) rotate(-45deg) translate(-12px, -18px);
    }
  }
  .toggleExitActive {
    line:first-of-type {
      transform: translateY(0px);
      transition: .3s ease-in-out;
    }
    line:last-of-type {
      transform: translateY(0px);
      transition: .3s ease-in-out;
    }
  }
}

@mixin manage-theme($name, $theme-map) {
  $background: map.get($theme-map, "background");
  $foreground: map.get($theme-map, "foreground");
  $gray: map.get($theme-map, "gray");
  $box-shadow: 0 .5rem 1rem rgba($foreground, .15);
  .mobileFooter.#{$name} {
    background-color: mix($background, $gray, 90%);
  }

  .topBtns.#{$name} {
    transition: .15s ease-in-out;
    > svg > line {
      stroke: $foreground;
    }
    &.downEnough {
      border: 1px solid mix($gray, $background, 40%);
      background: mix($gray, $background, 10%);
    }
    &.notDownEnough {
      border: 1px solid $background;
      background: $background;
    }
  }

  .toTop.#{$name}:hover {
    border-color: $gray !important;
  }

  @media (max-width: 767.98px) {
    .leftPanel.#{$name} { background: $background; }
    // for some reasons I have to keep the following here, including the non-
    // theme properties. Otherwise the panel doesn't work
    .leftPanelEnter {
      height: 0;
      box-shadow: none;
    }
    .leftPanelEnterActive {
      height: 540px;
      &.#{$name} { box-shadow: $box-shadow; }
      transition: .3s ease-in-out;
    }
    .leftPanelEnterDone {
      height: 540px;
      &.#{$name} { box-shadow: $box-shadow; }
    }
    .leftPanelExit {
      height: 540px;
      &.#{$name} { box-shadow: $box-shadow; }
    }
    .leftPanelExitActive {
      height: 0;
      box-shadow: none;
      transition: .3s ease-in-out;
    }
  }
}

@include manage-theme(light, $light-theme);
@include manage-theme(dark, $dark-theme);
